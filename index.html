<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="Play the exciting Sky Glider game online for free! Navigate through obstacles, set high scores, and enjoy this addictive arcade game. Perfect for casual gamers looking for a fun challenge.">
    <meta name="keywords" content="sky glider, online game, free game, arcade game, casual game, glider game, challenging game, browser game">
    <meta name="author" content="Sarthak Sharma">
    <meta name="robots" content="index, follow">
    <meta name="canonical" content="https://yourwebsite.com/sky-glider">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourwebsite.com/sky-glider">
    <meta property="og:title" content="Sky Glider - Play the Exciting Arcade Game Online Free">
    <meta property="og:description" content="Play the addictive Sky Glider game online for free! Navigate through obstacles, set high scores, and enjoy this challenging arcade game.">
    <meta property="og:image" content="https://yourwebsite.com/images/sky-glider-og.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://yourwebsite.com/sky-glider">
    <meta property="twitter:title" content="Sky Glider - Play the Exciting Arcade Game Online Free">
    <meta property="twitter:description" content="Play the addictive Sky Glider game online for free! Navigate through obstacles, set high scores, and enjoy this challenging arcade game.">
    <meta property="twitter:image" content="https://yourwebsite.com/images/sky-glider-twitter.jpg">
    
    <!-- Google Analytics (properly implemented) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VN2BZELCZ7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-VN2BZELCZ7');
    </script>
    
    <!-- Google AdSense (properly implemented) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1155904007929319" crossorigin="anonymous"></script>
    
    <title>Sky Glider - Play the Exciting Arcade Game Online Free</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;700;800&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- Schema.org markup for VideoGame -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "VideoGame",
      "name": "Sky Glider Online",
      "description": "Play the exciting Sky Glider game online for free. Navigate through obstacles and set high scores in this addictive arcade game.",
      "genre": ["Arcade", "Casual", "Action"],
      "gamePlatform": "Web Browser",
      "applicationCategory": "Game",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "availability": "https://schema.org/InStock"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.7",
        "ratingCount": "1350"
      }
    }
    </script>
    
    <style>
        :root {
            --primary-color: #3498db;
            --accent-color: #f39c12;
            --dark-bg: #1a1a2e;
            --medium-bg: #16213e;
            --light-bg: #0f3460;
            --text-light: #e6e6e6;
            --text-highlight: #ffffff;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-light);
        }
        .game-title {
            font-family: 'Exo 2', sans-serif;
            text-shadow: 3px 3px 0 #000;
        }
        .nav-link {
            transition: all 0.3s ease;
        }
        .nav-link:hover {
            background-color: var(--light-bg);
            transform: translateY(-2px);
        }
        canvas {
            border: 4px solid var(--accent-color);
            border-radius: 5px;
            background-color: #70c5ce;
        }
        .active-section {
            display: block;
        }
        .inactive-section {
            display: none;
        }
        .obstacle {
            position: absolute;
            width: 52px;
            height: 320px;
            background-color: #3498db;
        }
        .policy-content {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--medium-bg);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        .blog-card {
            background-color: var(--medium-bg);
            border-left: 4px solid var(--accent-color);
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .blog-card:hover {
            transform: translateX(5px);
        }
        .button-primary {
            background-color: var(--primary-color);
            color: var(--text-highlight);
            font-weight: bold;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .button-primary:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        footer {
            background-color: var(--medium-bg);
        }
        .faq-item {
            border-bottom: 1px solid #2a2a4a;
            transition: all 0.3s ease;
        }
        .faq-item:hover {
            background-color: var(--light-bg);
        }
        .faq-question {
            cursor: pointer;
        }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .faq-item.active .faq-answer {
            max-height: 500px;
        }
        .lazy-load {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .lazy-load.loaded {
            opacity: 1;
        }
        .feature-card {
            background-color: rgba(15, 52, 96, 0.7);
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        .hero-gradient {
            background: linear-gradient(135deg, #16213e 0%, #1a1a2e 100%);
        }
        .text-gradient {
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .highlight-box {
            border-left: 4px solid var(--accent-color);
            background-color: rgba(243, 156, 18, 0.1);
        }
        .game-controls {
            background-color: rgba(52, 152, 219, 0.2);
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }
        .game-btn {
            background-color: rgba(52, 152, 219, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        .game-btn:hover {
            background-color: rgba(41, 128, 185, 1);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .game-btn:active {
            transform: translateY(0);
        }
        .game-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .button-group {
            background-color: rgba(26, 26, 46, 0.8);
            border-radius: 10px;
            padding: 8px;
        }
        .highscore-entry {
            background-color: rgba(52, 152, 219, 0.1);
            border-left: 3px solid var(--accent-color);
            transition: all 0.2s ease;
        }
        .highscore-entry:hover {
            background-color: rgba(52, 152, 219, 0.2);
        }
        .pulse-animation {
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .slide-in {
            animation: slideIn 0.5s forwards;
        }
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .volume-slider {
            -webkit-appearance: none;
            appearance: none;
            height: 5px;
            border-radius: 5px;
            background: #2c3e50;
            outline: none;
        }
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: var(--accent-color);
            cursor: pointer;
        }
        .volume-slider::-moz-range-thumb {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: var(--accent-color);
            cursor: pointer;
            border: none;
        }
        #game-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }
        .toast-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(243, 156, 18, 0.9);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            opacity: 0;
        }
        .toast-notification.show {
            opacity: 1;
        }
        .achievement {
            background-color: rgba(52, 152, 219, 0.2);
            border-left: 3px solid gold;
            margin-bottom: 8px;
            padding: 8px 12px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        .achievement.unlocked {
            border-left-color: gold;
            background-color: rgba(243, 156, 18, 0.2);
        }
        .achievement.locked {
            opacity: 0.7;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Toast notification for achievements and sharing -->
    <div id="toast-notification" class="toast-notification">
        <span id="toast-message">Message goes here</span>
    </div>
    
    <!-- Navigation -->
    <nav class="bg-gray-900 p-4 shadow-lg sticky top-0 z-50">
        <div class="container mx-auto flex flex-wrap items-center justify-between">
            <div class="flex items-center">
                <h1 class="text-3xl md:text-4xl text-blue-400 game-title">SkyGlider</h1>
            </div>
            <div class="flex flex-wrap mt-4 md:mt-0">
                <button data-target="game-section" class="nav-link px-4 py-2 mx-1 rounded text-white hover:text-blue-400 focus:outline-none">Game</button>
                <button data-target="highscores-section" class="nav-link px-4 py-2 mx-1 rounded text-white hover:text-blue-400 focus:outline-none">Highscores</button>
                <button data-target="about-section" class="nav-link px-4 py-2 mx-1 rounded text-white hover:text-blue-400 focus:outline-none">About</button>
                <button data-target="blog-section" class="nav-link px-4 py-2 mx-1 rounded text-white hover:text-blue-400 focus:outline-none">Blog</button>
                <button data-target="faq-section" class="nav-link px-4 py-2 mx-1 rounded text-white hover:text-blue-400 focus:outline-none">FAQ</button>
                <button data-target="privacy-section" class="nav-link px-4 py-2 mx-1 rounded text-white hover:text-blue-400 focus:outline-none">Privacy</button>
                <button data-target="terms-section" class="nav-link px-4 py-2 mx-1 rounded text-white hover:text-blue-400 focus:outline-none">Terms</button>
            </div>
        </div>
    </nav>

    <!-- Game Section -->
    <section id="game-section" class="active-section flex-grow py-8">
        <div class="container mx-auto px-4">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold text-blue-400 game-title mb-4">Sky Glider Online Game</h2>
                <p class="text-lg text-gray-300 max-w-2xl mx-auto">
                    Experience the thrill of gliding through the sky in our free online arcade game! Tap the screen or use your spacebar to make the glider soar.
                    Navigate through obstacles without hitting them. We've designed the game with balanced difficulty for a more enjoyable experience!
                </p>
            </div>
            
            <div class="flex justify-center my-8">
                <div class="relative">
                    <canvas id="game-canvas" width="320" height="480" class="mx-auto" aria-label="Sky Glider Game Canvas"></canvas>
                    
                    <div id="start-message" class="absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-70">
                        <p class="text-white text-xl mb-4">Click or Press Spacebar to Start</p>
                        <button id="start-button" class="button-primary">Start Game</button>
                    </div>
                    
                    <div id="pause-overlay" class="absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-70 hidden">
                        <h3 class="text-white text-2xl mb-4">Game Paused</h3>
                        <button id="resume-button" class="button-primary mb-3">Resume Game</button>
                        <button id="restart-from-pause-button" class="button-primary">Restart Game</button>
                    </div>
                    
                    <div id="game-over" class="absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-70 hidden">
                        <h3 class="text-white text-2xl mb-2">Game Over</h3>
                        <p class="text-white text-xl mb-1">Score: <span id="final-score">0</span></p>
                        <p id="high-score-message" class="text-yellow-300 text-lg mb-4 hidden">New High Score!</p>
                        
                        <div class="flex flex-col sm:flex-row mb-6 space-y-3 sm:space-y-0 sm:space-x-3">
                            <button id="restart-button" class="button-primary">Play Again</button>
                            <button id="share-score-button" class="button-primary bg-green-500 hover:bg-green-600">Share Score</button>
                        </div>
                        
                        <div id="player-name-form" class="mt-4 bg-gray-800 p-4 rounded-lg w-3/4 max-w-xs">
                            <p class="text-white text-sm mb-2">Save your high score:</p>
                            <input type="text" id="player-name-input" placeholder="Enter your name" maxlength="15" class="w-full p-2 rounded mb-2 bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none">
                            <button id="save-score-button" class="w-full button-primary bg-blue-500 hover:bg-blue-600">Save Score</button>
                        </div>
                    </div>
                    
                    <!-- Game Controls Overlay -->
                    <div class="absolute top-3 left-3 right-3 flex justify-between items-center">
                        <div class="button-group flex space-x-2">
                            <button id="pause-button" class="game-btn" title="Pause Game">
                                <i class="fas fa-pause"></i>
                            </button>
                            <button id="restart-game-button" class="game-btn" title="Restart Game">
                                <i class="fas fa-redo-alt"></i>
                            </button>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span id="current-score" class="bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-lg font-bold">0</span>
                        </div>
                        <div class="button-group flex space-x-2">
                            <button id="music-toggle" class="game-btn" title="Toggle Music">
                                <i class="fas fa-music"></i>
                            </button>
                            <button id="sound-toggle" class="game-btn" title="Toggle Sound Effects">
                                <i class="fas fa-volume-up"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Sound Settings -->
            <div class="max-w-lg mx-auto mb-8 p-4 bg-gray-800 rounded-lg">
                <h3 class="text-lg font-bold text-blue-400 mb-3">Sound Settings</h3>
                <div class="flex items-center justify-between mb-3">
                    <label for="music-volume" class="text-white w-24">Music:</label>
                    <input type="range" id="music-volume" min="0" max="100" value="50" class="volume-slider flex-grow mx-3">
                    <span id="music-volume-value" class="text-white w-12 text-right">50%</span>
                </div>
                <div class="flex items-center justify-between">
                    <label for="sfx-volume" class="text-white w-24">Sound FX:</label>
                    <input type="range" id="sfx-volume" min="0" max="100" value="70" class="volume-slider flex-grow mx-3">
                    <span id="sfx-volume-value" class="text-white w-12 text-right">70%</span>
                </div>
            </div>
            
            <div class="game-controls p-6 rounded-lg max-w-2xl mx-auto">
                <h3 class="text-xl font-bold text-blue-400 mb-2">How to Play Sky Glider:</h3>
                <ul class="list-disc list-inside text-gray-300">
                    <li>Click the screen or press the spacebar to make the glider soar upward</li>
                    <li>Navigate carefully through the obstacles without hitting them</li>
                    <li>Each obstacle you successfully pass gives you one point</li>
                    <li>Challenge yourself to beat your high score with each attempt</li>
                    <li>The game gets progressively more challenging as you advance</li>
                    <li>Use the pause button to take a break anytime</li>
                    <li>Toggle music and sound effects with the control buttons</li>
                </ul>
            </div>
            
            <!-- Achievements Section -->
            <div class="mt-8 max-w-2xl mx-auto p-5 bg-gray-800 bg-opacity-60 rounded-lg">
                <h3 class="text-xl font-bold text-blue-400 mb-4">Achievements</h3>
                <div id="achievements-container" class="space-y-2">
                    <div class="achievement locked" data-achievement="beginner">
                        <h4 class="font-bold text-white">Beginner Glider <span class="text-xs text-gray-400">(Score 10+ points)</span></h4>
                        <div class="flex justify-between items-center">
                            <p class="text-sm text-gray-300">Take your first steps in the sky</p>
                            <i class="fas fa-lock text-gray-500"></i>
                        </div>
                    </div>
                    <div class="achievement locked" data-achievement="intermediate">
                        <h4 class="font-bold text-white">Sky Navigator <span class="text-xs text-gray-400">(Score 25+ points)</span></h4>
                        <div class="flex justify-between items-center">
                            <p class="text-sm text-gray-300">Mastering the air currents</p>
                            <i class="fas fa-lock text-gray-500"></i>
                        </div>
                    </div>
                    <div class="achievement locked" data-achievement="advanced">
                        <h4 class="font-bold text-white">Expert Pilot <span class="text-xs text-gray-400">(Score 50+ points)</span></h4>
                        <div class="flex justify-between items-center">
                            <p class="text-sm text-gray-300">Show remarkable flying skills</p>
                            <i class="fas fa-lock text-gray-500"></i>
                        </div>
                    </div>
                    <div class="achievement locked" data-achievement="master">
                        <h4 class="font-bold text-white">Sky Master <span class="text-xs text-gray-400">(Score 100+ points)</span></h4>
                        <div class="flex justify-between items-center">
                            <p class="text-sm text-gray-300">Become one with the sky</p>
                            <i class="fas fa-lock text-gray-500"></i>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-8 max-w-4xl mx-auto">
                <h3 class="text-xl font-bold text-blue-400 mb-4">Why Players Love Sky Glider:</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="feature-card p-5 rounded-lg">
                        <div class="flex items-start">
                            <div class="bg-blue-500 rounded-full p-2 mr-3">
                                <i class="fas fa-gamepad text-white"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-white mb-2">Simple Yet Challenging</h4>
                                <p class="text-gray-300">Easy to learn but difficult to master, providing the perfect balance for casual gamers.</p>
                            </div>
                        </div>
                    </div>
                    <div class="feature-card p-5 rounded-lg">
                        <div class="flex items-start">
                            <div class="bg-blue-500 rounded-full p-2 mr-3">
                                <i class="fas fa-clock text-white"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-white mb-2">Quick Play Sessions</h4>
                                <p class="text-gray-300">Perfect for short breaks or when you have a few minutes to spare for gaming fun.</p>
                            </div>
                        </div>
                    </div>
                    <div class="feature-card p-5 rounded-lg">
                        <div class="flex items-start">
                            <div class="bg-blue-500 rounded-full p-2 mr-3">
                                <i class="fas fa-fire text-white"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-white mb-2">Addictive Gameplay</h4>
                                <p class="text-gray-300">The "just one more try" factor keeps players coming back to beat their previous scores.</p>
                            </div>
                        </div>
                    </div>
                    <div class="feature-card p-5 rounded-lg">
                        <div class="flex items-start">
                            <div class="bg-blue-500 rounded-full p-2 mr-3">
                                <i class="fas fa-users text-white"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-white mb-2">For Everyone</h4>
                                <p class="text-gray-300">Anyone can play regardless of gaming experience, making it accessible to all ages.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-12 max-w-4xl mx-auto bg-blue-900 bg-opacity-20 p-6 rounded-lg shadow-lg">
                <div class="flex flex-col md:flex-row items-center">
                    <div class="md:w-1/3 mb-6 md:mb-0 flex justify-center">
                        <div class="rounded-full bg-blue-500 p-8 shadow-lg">
                            <i class="fas fa-trophy text-4xl text-white"></i>
                        </div>
                    </div>
                    <div class="md:w-2/3 md:pl-8 text-center md:text-left">
                        <h3 class="text-2xl font-bold text-white mb-3">Challenge Your Friends!</h3>
                        <p class="text-gray-300 mb-4">
                            Share your high scores on social media and challenge your friends to beat them! 
                            Sky Glider is perfect for friendly competitions and seeing who has the best reflexes.
                        </p>
                        <div class="flex justify-center md:justify-start space-x-4">
                            <button id="share-facebook" class="text-blue-400 hover:text-blue-300" aria-label="Share on Facebook">
                                <i class="fab fa-facebook-square text-2xl"></i>
                            </button>
                            <button id="share-twitter" class="text-blue-400 hover:text-blue-300" aria-label="Share on Twitter">
                                <i class="fab fa-twitter text-2xl"></i>
                            </button>
                            <button id="share-whatsapp" class="text-blue-400 hover:text-blue-300" aria-label="Share on WhatsApp">
                                <i class="fab fa-whatsapp text-2xl"></i>
                            </button>
                            <button id="share-copy" class="text-blue-400 hover:text-blue-300" aria-label="Copy Link">
                                <i class="fas fa-link text-2xl"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Highscores Section -->
    <section id="highscores-section" class="inactive-section py-12 bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-blue-400 game-title mb-8">Highscores</h2>
            
            <div class="max-w-3xl mx-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-blue-300">Top Players</h3>
                    <div>
                        <button id="reset-scores" class="text-sm bg-red-600 hover:bg-red-700 text-white py-1 px-3 rounded">
                            Reset My Scores
                        </button>
                    </div>
                </div>
                
                <!-- Personal Best -->
                <div class="mb-8 bg-blue-900 bg-opacity-20 rounded-lg p-6">
                    <h3 class="text-xl font-bold text-blue-300 mb-4">Your Personal Best</h3>
                    <div id="personal-best" class="text-center">
                        <div class="flex items-center justify-center">
                            <div class="bg-blue-500 rounded-full p-3 mr-4">
                                <i class="fas fa-trophy text-2xl text-white"></i>
                            </div>
                            <div>
                                <p class="text-gray-300">Your Best Score</p>
                                <p id="personal-best-score" class="text-4xl font-bold text-white">0</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Global Leaderboard -->
                <div class="bg-gray-800 rounded-lg overflow-hidden">
                    <div class="bg-gray-700 p-4">
                        <h3 class="text-xl font-bold text-white">Global Leaderboard</h3>
                        <p class="text-sm text-gray-400">Top scores from all players</p>
                    </div>
                    
                    <div class="p-4">
                        <div class="flex font-bold text-gray-400 pb-2 border-b border-gray-700">
                            <div class="w-1/12">#</div>
                            <div class="w-6/12">Player</div>
                            <div class="w-3/12 text-center">Score</div>
                            <div class="w-2/12 text-right">Date</div>
                        </div>
                        
                        <div id="highscores-list" class="divide-y divide-gray-700">
                            <!-- High scores will be populated here -->
                            <div class="text-center text-gray-400 py-8">
                                <p id="no-scores-message">Play the game to record your first score!</p>
                                <div id="loading-scores" class="hidden">
                                    <i class="fas fa-spinner fa-spin text-3xl"></i>
                                    <p class="mt-2">Loading scores...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Weekly Challenge -->
                <div class="mt-8 bg-gray-800 rounded-lg p-6">
                    <h3 class="text-xl font-bold text-blue-300 mb-2">Weekly Challenge</h3>
                    <p class="text-gray-300 mb-4">Can you reach the target score before the week ends?</p>
                    
                    <div class="bg-gray-700 rounded-lg p-4">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-sm text-gray-400">Current Challenge</p>
                                <p class="text-xl font-bold text-white">Reach 50 points</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-400">Time Remaining</p>
                                <p id="challenge-time" class="text-xl font-bold text-white">6 days</p>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <p class="text-sm text-gray-400">Your Progress</p>
                            <div class="w-full bg-gray-600 rounded-full h-4 mt-1">
                                <div id="challenge-progress" class="bg-blue-500 rounded-full h-4" style="width: 0%"></div>
                            </div>
                            <p class="text-right text-sm text-gray-400 mt-1"><span id="challenge-current">0</span>/50 points</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Us Section (kept from original) -->
    <section id="about-section" class="inactive-section py-12 bg-gray-900">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-4xl font-bold text-center text-blue-400 game-title mb-8">About Sky Glider Online</h2>
                
                <div class="hero-gradient p-8 rounded-lg shadow-xl">
                    <div class="flex flex-col md:flex-row">
                        <div class="md:w-1/3 mb-6 md:mb-0">
                            <div class="bg-gray-800 p-6 rounded-lg text-center transform hover:scale-105 transition duration-300">
                                <i class="fas fa-user-circle text-6xl text-blue-400 mb-4" aria-hidden="true"></i>
                                <h3 class="text-xl font-bold text-white">Developer</h3>
                                <p class="text-gray-300">Sarthak Sharma</p>
                                <div class="mt-4 pt-4 border-t border-gray-700">
                                    <div class="flex justify-center space-x-3">
                                        <a href="#" class="text-blue-400 hover:text-blue-300" aria-label="GitHub">
                                            <i class="fab fa-github text-xl"></i>
                                        </a>
                                        <a href="#" class="text-blue-400 hover:text-blue-300" aria-label="LinkedIn">
                                            <i class="fab fa-linkedin text-xl"></i>
                                        </a>
                                        <a href="#" class="text-blue-400 hover:text-blue-300" aria-label="Twitter">
                                            <i class="fab fa-twitter text-xl"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="md:w-2/3 md:pl-8">
                            <h3 class="text-2xl font-bold text-blue-400 mb-4">Our Mission</h3>
                            <p class="text-gray-300 mb-4">
                                Welcome to Sky Glider - our exciting take on the endless arcade game genre! This project aims to deliver 
                                an accessible yet challenging gaming experience with modern design elements and expanded content.
                            </p>
                            <p class="text-gray-300 mb-6">
                                Our goal is to provide endless entertainment through simple yet challenging gameplay that anyone can enjoy.
                                We've created informative sections about arcade gaming history and maintained the addictive nature that makes
                                casual games so popular.
                            </p>
                            
                            <div class="bg-gray-800 p-5 rounded-lg mb-4 shadow-inner">
                                <h4 class="font-bold text-blue-400 mb-2">Contact Information:</h4>
                                <ul class="text-gray-300">
                                    <li class="flex items-center mb-3">
                                        <i class="fas fa-envelope mr-3 text-blue-400" aria-hidden="true"></i>
                                        <span>sarthaks42388434@gmail.com</span>
                                    </li>
                                    <li class="flex items-center">
                                        <i class="fas fa-map-marker-alt mr-3 text-blue-400" aria-hidden="true"></i>
                                        <span>Satna, Madhya Pradesh, India</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <p class="text-gray-400 text-sm">
                                Sky Glider is an original creation inspired by classic arcade games. Our version offers a unique take on the 
                                endless runner gameplay mechanic that has become popular in the casual gaming world.
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8 bg-blue-900 bg-opacity-20 p-6 rounded-lg shadow-inner">
                    <h3 class="text-2xl font-bold text-blue-400 mb-4">Game Development Journey</h3>
                    <p class="text-gray-300 mb-4">
                        Creating this browser-based Sky Glider game involved several challenges and learning opportunities.
                        We focused on creating intuitive controls and satisfying physics while enhancing the visual appeal and adding educational content
                        about the history and impact of arcade gaming.
                    </p>
                    <p class="text-gray-300">
                        The development process included optimizing the game for various devices, ensuring smooth performance across different
                        browsers, and creating an intuitive user interface that appeals to both casual gamers and those looking for a quick challenge.
                    </p>
                </div>
                
                <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="feature-card p-5 text-center">
                        <i class="fas fa-mobile-alt text-4xl text-blue-400 mb-3"></i>
                        <h4 class="text-lg font-bold text-white mb-2">Mobile Optimized</h4>
                        <p class="text-gray-400">Fully responsive design that works seamlessly on smartphones and tablets</p>
                    </div>
                    <div class="feature-card p-5 text-center">
                        <i class="fas fa-bolt text-4xl text-blue-400 mb-3"></i>
                        <h4 class="text-lg font-bold text-white mb-2">Fast Performance</h4>
                        <p class="text-gray-400">Optimized code ensures smooth gameplay even on older devices</p>
                    </div>
                    <div class="feature-card p-5 text-center">
                        <i class="fas fa-code text-4xl text-blue-400 mb-3"></i>
                        <h4 class="text-lg font-bold text-white mb-2">Clean Code</h4>
                        <p class="text-gray-400">Built with modern web standards for reliability and maintenance</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Blog Section (kept from original) -->
    <section id="blog-section" class="inactive-section py-12">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-blue-400 game-title mb-8">Arcade Gaming Blog</h2>
            
            <div class="max-w-4xl mx-auto mb-8">
                <div id="blog-list">
                    <div class="blog-card p-6 mb-6 rounded-lg" data-blog-id="history">
                        <h3 class="text-2xl font-bold text-blue-400 mb-2">The Evolution of Endless Runner Games</h3>
                        <p class="text-gray-400 mb-4">Exploring the history and development of the popular endless runner genre from early arcade games to modern mobile hits.</p>
                        <div class="flex items-center text-sm text-gray-500">
                            <i class="far fa-clock mr-2" aria-hidden="true"></i>
                            <span>8 min read</span>
                        </div>
                    </div>
                    
                    <div class="blog-card p-6 mb-6 rounded-lg" data-blog-id="impact">
                        <h3 class="text-2xl font-bold text-blue-400 mb-2">The Psychology Behind Addictive Arcade Games</h3>
                        <p class="text-gray-400 mb-4">Understanding why simple arcade games create such compelling experiences and keep players coming back for more.</p>
                        <div class="flex items-center text-sm text-gray-500">
                            <i class="far fa-clock mr-2" aria-hidden="true"></i>
                            <span>10 min read</span>
                        </div>
                    </div>
                    
                    <div class="blog-card p-6 mb-6 rounded-lg" data-blog-id="design">
                        <h3 class="text-2xl font-bold text-blue-400 mb-2">Principles of Good Game Design for Casual Games</h3>
                        <p class="text-gray-400 mb-4">Key design principles that make casual games accessible while maintaining the challenge that keeps players engaged.</p>
                        <div class="flex items-center text-sm text-gray-500">
                            <i class="far fa-clock mr-2" aria-hidden="true"></i>
                            <span>9 min read</span>
                        </div>
                    </div>
                    
                    <div class="blog-card p-6 mb-6 rounded-lg" data-blog-id="strategies">
                        <h3 class="text-2xl font-bold text-blue-400 mb-2">Advanced Strategies for Sky Glider Masters</h3>
                        <p class="text-gray-400 mb-4">Master these techniques to improve your gameplay and achieve record-breaking scores in Sky Glider.</p>
                        <div class="flex items-center text-sm text-gray-500">
                            <i class="far fa-clock mr-2" aria-hidden="true"></i>
                            <span>7 min read</span>
                        </div>
                    </div>
                    
                    <div class="blog-card p-6 mb-6 rounded-lg" data-blog-id="physics">
                        <h3 class="text-2xl font-bold text-blue-400 mb-2">The Physics of Sky Gliding Games</h3>
                        <p class="text-gray-400 mb-4">How game developers create realistic gliding mechanics and satisfying physics in arcade games.</p>
                        <div class="flex items-center text-sm text-gray-500">
                            <i class="far fa-clock mr-2" aria-hidden="true"></i>
                            <span>6 min read</span>
                        </div>
                    </div>
                </div>
                
                <div id="blog-content" class="hidden">
                    <button id="back-to-blogs" class="mb-6 flex items-center text-blue-400 hover:text-blue-300">
                        <i class="fas fa-arrow-left mr-2" aria-hidden="true"></i> Back to blogs
                    </button>
                    
                    <div id="history-content" class="blog-full-content hidden">
                        <h3 class="text-3xl font-bold text-blue-400 mb-4">The Evolution of Endless Runner Games</h3>
                        <p class="text-sm text-gray-400 mb-6">Published: June 12, 2023</p>
                        
                        <div class="prose prose-lg prose-invert max-w-none">
                            <p>Endless runner games have become one of the most popular genres in the mobile and casual gaming world. These games, characterized by their simple yet addictive gameplay where players must navigate through a never-ending course while avoiding obstacles, have evolved significantly over the years.</p>
                            
                            <h4 class="text-xl font-bold text-blue-400 mt-6 mb-3">Early Beginnings</h4>
                            <p>The origins of endless runner games can be traced back to classic arcade games of the 1980s. Games like Moon Patrol (1982) introduced side-scrolling gameplay where players controlled a vehicle moving continuously to the right while avoiding obstacles. While these weren't truly "endless," they established core mechanics that would later define the genre.</p>
                        </div>
                    </div>
                    
                    <!-- Other blog content divs would go here -->
                    
                </div>
            </div>
        </div>
    </section>
    
    <!-- FAQ Section -->
    <section id="faq-section" class="inactive-section py-12 bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-blue-400 game-title mb-8">Frequently Asked Questions</h2>
            
            <div class="max-w-3xl mx-auto">
                <!-- FAQ Schema Markup -->
                <script type="application/ld+json">
                {
                  "@context": "https://schema.org",
                  "@type": "FAQPage",
                  "mainEntity": [
                    {
                      "@type": "Question",
                      "name": "How do I play Sky Glider online?",
                      "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "To play Sky Glider online, simply click the screen or press the spacebar to make the glider fly upward. Navigate through the obstacles without hitting them. Each obstacle you pass gives you one point."
                      }
                    },
                    {
                      "@type": "Question",
                      "name": "Is Sky Glider free to play?",
                      "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Yes, Sky Glider is completely free to play in your web browser. There are no hidden fees or purchases required to enjoy the full game experience."
                      }
                    },
                    {
                      "@type": "Question",
                      "name": "How do I save my high scores?",
                      "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "When you achieve a new high score, you'll be prompted to enter your name. Your scores are automatically saved to your browser's local storage, so you can track your progress over time."
                      }
                    },
                    {
                      "@type": "Question",
                      "name": "Can I play Sky Glider offline?",
                      "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Once you've loaded the game in your browser, you can play Sky Glider even when you're offline. Your scores will be saved locally and synced when you reconnect."
                      }
                    },
                    {
                      "@type": "Question",
                      "name": "How do I share my score with friends?",
                      "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "After completing a game, click the 'Share Score' button to share your achievement on social media or copy a direct link to challenge your friends."
                      }
                    },
                    {
                      "@type": "Question",
                      "name": "How do I mute the game sounds?",
                      "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "You can toggle the game's music and sound effects by clicking the corresponding buttons in the top-right corner of the game window. You can also adjust the volume using the sliders in the sound settings panel."
                      }
                    }
                  ]
                }
                </script>
                
                <div class="space-y-4">
                    <div class="faq-item p-4 rounded-lg">
                        <div class="faq-question flex justify-between items-center">
                            <h3 class="text-xl font-bold text-blue-400">How do I play Sky Glider online?</h3>
                            <i class="fas fa-chevron-down text-blue-400" aria-hidden="true"></i>
                        </div>
                        <div class="faq-answer mt-2 text-gray-300">
                            <p>To play Sky Glider online, simply click the screen or press the spacebar to make the glider fly upward. Navigate through the obstacles without hitting them. Each obstacle you pass gives you one point.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item p-4 rounded-lg">
                        <div class="faq-question flex justify-between items-center">
                            <h3 class="text-xl font-bold text-blue-400">Is Sky Glider free to play?</h3>
                            <i class="fas fa-chevron-down text-blue-400" aria-hidden="true"></i>
                        </div>
                        <div class="faq-answer mt-2 text-gray-300">
                            <p>Yes, Sky Glider is completely free to play in your web browser. There are no hidden fees or purchases required to enjoy the full game experience.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item p-4 rounded-lg">
                        <div class="faq-question flex justify-between items-center">
                            <h3 class="text-xl font-bold text-blue-400">How do I save my high scores?</h3>
                            <i class="fas fa-chevron-down text-blue-400" aria-hidden="true"></i>
                        </div>
                        <div class="faq-answer mt-2 text-gray-300">
                            <p>When you achieve a new high score, you'll be prompted to enter your name. Your scores are automatically saved to your browser's local storage, so you can track your progress over time.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item p-4 rounded-lg">
                        <div class="faq-question flex justify-between items-center">
                            <h3 class="text-xl font-bold text-blue-400">Can I play Sky Glider offline?</h3>
                            <i class="fas fa-chevron-down text-blue-400" aria-hidden="true"></i>
                        </div>
                        <div class="faq-answer mt-2 text-gray-300">
                            <p>Once you've loaded the game in your browser, you can play Sky Glider even when you're offline. Your scores will be saved locally and synced when you reconnect.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item p-4 rounded-lg">
                        <div class="faq-question flex justify-between items-center">
                            <h3 class="text-xl font-bold text-blue-400">How do I share my score with friends?</h3>
                            <i class="fas fa-chevron-down text-blue-400" aria-hidden="true"></i>
                        </div>
                        <div class="faq-answer mt-2 text-gray-300">
                            <p>After completing a game, click the 'Share Score' button to share your achievement on social media or copy a direct link to challenge your friends.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item p-4 rounded-lg">
                        <div class="faq-question flex justify-between items-center">
                            <h3 class="text-xl font-bold text-blue-400">How do I mute the game sounds?</h3>
                            <i class="fas fa-chevron-down text-blue-400" aria-hidden="true"></i>
                        </div>
                        <div class="faq-answer mt-2 text-gray-300">
                            <p>You can toggle the game's music and sound effects by clicking the corresponding buttons in the top-right corner of the game window. You can also adjust the volume using the sliders in the sound settings panel.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Privacy Policy and Terms Sections (kept from original) -->
    <section id="privacy-section" class="inactive-section py-12 bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-blue-400 game-title mb-8">Privacy Policy</h2>
            
            <div class="policy-content">
                <p class="mb-4">Last updated: November 15, 2023</p>
                
                <h3 class="text-xl font-bold text-blue-400 mb-4">1. Introduction</h3>
                <p class="mb-4">
                    Welcome to our Sky Glider game website. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or play our game.
                    Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access the site.
                </p>
                
                <!-- Rest of privacy policy content -->
            </div>
        </div>
    </section>

    <section id="terms-section" class="inactive-section py-12">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-blue-400 game-title mb-8">Terms and Conditions</h2>
            
            <div class="policy-content">
                <p class="mb-4">Last updated: November 15, 2023</p>
                
                <h3 class="text-xl font-bold text-blue-400 mb-4">1. Agreement to Terms</h3>
                <p class="mb-4">
                    By accessing this website, you are agreeing to be bound by these Terms and Conditions of Use, all applicable laws and regulations,
                    and agree that you are responsible for compliance with any applicable local laws. If you do not agree with any of these terms, you
                    are prohibited from using or accessing this site.
                </p>
                
                <!-- Rest of terms content -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0">
                    <h2 class="text-2xl text-blue-400 game-title">SkyGlider</h2>
                    <p class="text-sm text-gray-400">© 2023 All rights reserved.</p>
                </div>
                <div class="flex flex-wrap justify-center md:justify-end">
                    <button data-target="game-section" class="px-3 py-1 mx-1 text-sm text-gray-300 hover:text-blue-400">Game</button>
                    <button data-target="highscores-section" class="px-3 py-1 mx-1 text-sm text-gray-300 hover:text-blue-400">Highscores</button>
                    <button data-target="about-section" class="px-3 py-1 mx-1 text-sm text-gray-300 hover:text-blue-400">About</button>
                    <button data-target="blog-section" class="px-3 py-1 mx-1 text-sm text-gray-300 hover:text-blue-400">Blog</button>
                    <button data-target="faq-section" class="px-3 py-1 mx-1 text-sm text-gray-300 hover:text-blue-400">FAQ</button>
                    <button data-target="privacy-section" class="px-3 py-1 mx-1 text-sm text-gray-300 hover:text-blue-400">Privacy Policy</button>
                    <button data-target="terms-section" class="px-3 py-1 mx-1 text-sm text-gray-300 hover:text-blue-400">Terms</button>
                </div>
            </div>
            <div class="mt-6 text-center">
                <div class="flex justify-center space-x-4 mb-4">
                    <a href="#" class="text-gray-400 hover:text-blue-400" aria-label="Facebook">
                        <i class="fab fa-facebook-square text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-blue-400" aria-label="Twitter">
                        <i class="fab fa-twitter text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-blue-400" aria-label="Instagram">
                        <i class="fab fa-instagram text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-blue-400" aria-label="LinkedIn">
                        <i class="fab fa-linkedin text-xl"></i>
                    </a>
                </div>
                <p class="text-sm text-gray-400">
                    Created by <strong>Sarthak Sharma</strong> | <a href="mailto:sarthaks42388434@gmail.com" class="text-blue-400 hover:underline">sarthaks42388434@gmail.com</a> | Satna, Madhya Pradesh, India
                </p>
            </div>
        </div>
    </footer>

    <!-- Audio elements -->
    <audio id="background-music" loop preload="none">
        <source src="https://cdn.jsdelivr.net/gh/soundeffects/video-game-sounds@master/fantasy/background/casual-game-loop.mp3" type="audio/mpeg">
    </audio>
    <audio id="jump-sound" preload="none">
        <source src="https://cdn.jsdelivr.net/gh/soundeffects/video-game-sounds@master/arcade/jump/jump-arcade.mp3" type="audio/mpeg">
    </audio>
    <audio id="score-sound" preload="none">
        <source src="https://cdn.jsdelivr.net/gh/soundeffects/video-game-sounds@master/arcade/coin/coin-collect.mp3" type="audio/mpeg">
    </audio>
    <audio id="game-over-sound" preload="none">
        <source src="https://cdn.jsdelivr.net/gh/soundeffects/video-game-sounds@master/arcade/game-over/game-over-arcade.mp3" type="audio/mpeg">
    </audio>
    <audio id="achievement-sound" preload="none">
        <source src="https://cdn.jsdelivr.net/gh/soundeffects/video-game-sounds@master/ui/achievement/achievement-unlock.mp3" type="audio/mpeg">
    </audio>

    <!-- Game JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Global variables and constants
            const STORAGE_KEY = 'sky_glider_data';
            const ACHIEVEMENTS = {
                beginner: { score: 10, label: 'Beginner Glider' },
                intermediate: { score: 25, label: 'Sky Navigator' },
                advanced: { score: 50, label: 'Expert Pilot' },
                master: { score: 100, label: 'Sky Master' }
            };
            
            let userData = {
                highScore: 0,
                playerName: '',
                soundEnabled: true,
                musicEnabled: true,
                musicVolume: 50,
                sfxVolume: 70,
                scores: [],
                achievements: [],
                weeklyBest: 0
            };
            
            let gameData = {
                isPaused: false,
                soundsLoaded: false,
                animationFrame: null,
                lastScoreTime: 0
            };
            
            // Audio elements
            const backgroundMusic = document.getElementById('background-music');
            const jumpSound = document.getElementById('jump-sound');
            const scoreSound = document.getElementById('score-sound');
            const gameOverSound = document.getElementById('game-over-sound');
            const achievementSound = document.getElementById('achievement-sound');
            
            // Volume controls
            const musicVolumeSlider = document.getElementById('music-volume');
            const sfxVolumeSlider = document.getElementById('sfx-volume');
            const musicVolumeValue = document.getElementById('music-volume-value');
            const sfxVolumeValue = document.getElementById('sfx-volume-value');
            
            // Load user data from localStorage
            function loadUserData() {
                const savedData = localStorage.getItem(STORAGE_KEY);
                if (savedData) {
                    try {
                        const parsedData = JSON.parse(savedData);
                        userData = { ...userData, ...parsedData };
                        
                        // Update UI with loaded data
                        updatePersonalBest();
                        updateHighscoresList();
                        updateAchievements();
                        updateWeeklyChallenge();
                        
                        // Set volume controls
                        musicVolumeSlider.value = userData.musicVolume;
                        sfxVolumeSlider.value = userData.sfxVolume;
                        musicVolumeValue.textContent = `${userData.musicVolume}%`;
                        sfxVolumeValue.textContent = `${userData.sfxVolume}%`;
                        
                        // Set audio volumes
                        backgroundMusic.volume = userData.musicVolume / 100;
                        jumpSound.volume = userData.sfxVolume / 100;
                        scoreSound.volume = userData.sfxVolume / 100;
                        gameOverSound.volume = userData.sfxVolume / 100;
                        achievementSound.volume = userData.sfxVolume / 100;
                        
                        // Update sound toggle buttons
                        updateSoundButtons();
                    } catch (e) {
                        console.error("Error loading saved data:", e);
                    }
                }
            }
            
            // Save user data to localStorage
            function saveUserData() {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(userData));
            }
            
            // Update personal best display
            function updatePersonalBest() {
                document.getElementById('personal-best-score').textContent = userData.highScore;
            }
            
            // Update highscores list
            function updateHighscoresList() {
                const highscoresList = document.getElementById('highscores-list');
                const noScoresMessage = document.getElementById('no-scores-message');
                
                if (userData.scores.length > 0) {
                    highscoresList.innerHTML = '';
                    noScoresMessage.classList.add('hidden');
                    
                    // Sort scores by value (descending)
                    const sortedScores = [...userData.scores].sort((a, b) => b.score - a.score);
                    
                    sortedScores.slice(0, 10).forEach((score, index) => {
                        const scoreRow = document.createElement('div');
                        scoreRow.className = 'flex items-center py-3 px-2 highscore-entry';
                        
                        const scoreDate = new Date(score.date);
                        const formattedDate = `${scoreDate.getDate()}/${scoreDate.getMonth() + 1}/${scoreDate.getFullYear()}`;
                        
                        scoreRow.innerHTML = `
                            <div class="w-1/12 font-bold">${index + 1}</div>
                            <div class="w-6/12">${score.name || 'Anonymous'}</div>
                            <div class="w-3/12 text-center font-bold">${score.score}</div>
                            <div class="w-2/12 text-right text-sm text-gray-500">${formattedDate}</div>
                        `;
                        
                        highscoresList.appendChild(scoreRow);
                    });
                } else {
                    noScoresMessage.classList.remove('hidden');
                }
            }
            
            // Update achievements display
            function updateAchievements() {
                for (const [id, achievement] of Object.entries(ACHIEVEMENTS)) {
                    const achievementElem = document.querySelector(`.achievement[data-achievement="${id}"]`);
                    
                    if (userData.achievements.includes(id)) {
                        achievementElem.classList.remove('locked');
                        achievementElem.classList.add('unlocked');
                        achievementElem.querySelector('i').className = 'fas fa-check text-yellow-400';
                    } else {
                        achievementElem.classList.add('locked');
                        achievementElem.classList.remove('unlocked');
                        achievementElem.querySelector('i').className = 'fas fa-lock text-gray-500';
                    }
                }
            }
            
            // Check for new achievements
            function checkAchievements(score) {
                let newAchievements = [];
                
                for (const [id, achievement] of Object.entries(ACHIEVEMENTS)) {
                    if (!userData.achievements.includes(id) && score >= achievement.score) {
                        userData.achievements.push(id);
                        newAchievements.push(id);
                    }
                }
                
                if (newAchievements.length > 0) {
                    // Update achievements display
                    updateAchievements();
                    
                    // Show toast notification for new achievement
                    let achievementName = ACHIEVEMENTS[newAchievements[0]].label;
                    if (newAchievements.length > 1) {
                        achievementName = `${newAchievements.length} Achievements`;
                    }
                    
                    showToast(`Achievement Unlocked: ${achievementName}!`);
                    
                    // Play achievement sound
                    if (userData.soundEnabled) {
                        achievementSound.play();
                    }
                    
                    saveUserData();
                }
            }
            
            // Update weekly challenge
            function updateWeeklyChallenge() {
                const weeklyTarget = 50;
                const challengeProgress = document.getElementById('challenge-progress');
                const challengeCurrent = document.getElementById('challenge-current');
                
                // Calculate days until end of the week (Sunday)
                const now = new Date();
                const daysUntilSunday = 7 - now.getDay();
                document.getElementById('challenge-time').textContent = `${daysUntilSunday} days`;
                
                // Update progress
                const progress = Math.min(100, (userData.weeklyBest / weeklyTarget) * 100);
                challengeProgress.style.width = `${progress}%`;
                challengeCurrent.textContent = userData.weeklyBest;
            }
            
            // Show toast notification
            function showToast(message, duration = 3000) {
                const toast = document.getElementById('toast-notification');
                const toastMessage = document.getElementById('toast-message');
                
                toastMessage.textContent = message;
                toast.classList.add('show');
                
                setTimeout(() => {
                    toast.classList.remove('show');
                }, duration);
            }
            
            // Update sound toggle buttons
            function updateSoundButtons() {
                const musicToggle = document.getElementById('music-toggle');
                const soundToggle = document.getElementById('sound-toggle');
                
                if (userData.musicEnabled) {
                    musicToggle.innerHTML = '<i class="fas fa-music"></i>';
                    musicToggle.classList.remove('disabled');
                } else {
                    musicToggle.innerHTML = '<i class="fas fa-music-slash"></i>';
                    musicToggle.classList.add('disabled');
                }
                
                if (userData.soundEnabled) {
                    soundToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
                    soundToggle.classList.remove('disabled');
                } else {
                    soundToggle.innerHTML = '<i class="fas fa-volume-mute"></i>';
                    soundToggle.classList.add('disabled');
                }
            }
            
            // Initialize sound system
            function initSounds() {
                // Set initial volumes
                backgroundMusic.volume = userData.musicVolume / 100;
                jumpSound.volume = userData.sfxVolume / 100;
                scoreSound.volume = userData.sfxVolume / 100;
                gameOverSound.volume = userData.sfxVolume / 100;
                achievementSound.volume = userData.sfxVolume / 100;
                
                // Touch to enable audio on mobile devices
                document.body.addEventListener('touchstart', function() {
                    if (!gameData.soundsLoaded) {
                        // Create silent sound to unlock audio
                        const silentSound = new Audio("data:audio/mp3;base64,//MkxAAHiAICWABElBeKPL/RANb2w+yiT1g/gTok//lP/W/l3h8QO/OCdCqCW2Cw//MkxAQHkAIWUAhEmAQXWUOFW2dxPu//9mr60FoIEEznKs5BqEUIs5bqeo0zLMIe///MkxAgHAAJCUAhEmAVYfI9mtrt7uBqDkiz3///wJcngzxEjFgH///8wwwwz//MkxAwGkAIiAAhEAGCwDFgGCwDFgsSKG/limUSaWI0y2XlJJJSZ//MkxBMHAAYiUAhEAGLAMWAYsAxYCSaW9JJJGpE0nEC0jUi0lEi0mKS6WIJ5sS6LCj//MkxBsGaAYiUAgAAAAxYBiwDFgNPJdrGiyWYsRM3iFFFFFFFzCCIIQhCEIQhIiIiI//MkxCYHEAIiAAhEAiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIi");
                        
                        // Play each sound once and reset to beginning
                        silentSound.play().catch(() => {});
                        
                        gameData.soundsLoaded = true;
                    }
                }, { once: true });
                
                // Music toggle button
                document.getElementById('music-toggle').addEventListener('click', function() {
                    userData.musicEnabled = !userData.musicEnabled;
                    
                    if (userData.musicEnabled) {
                        if (gameData.isPaused === false && document.getElementById('game-section').classList.contains('active-section')) {
                            backgroundMusic.play().catch(e => console.log("Music play prevented:", e));
                        }
                    } else {
                        backgroundMusic.pause();
                    }
                    
                    updateSoundButtons();
                    saveUserData();
                });
                
                // Sound effects toggle button
                document.getElementById('sound-toggle').addEventListener('click', function() {
                    userData.soundEnabled = !userData.soundEnabled;
                    updateSoundButtons();
                    saveUserData();
                });
                
                // Music volume slider
                musicVolumeSlider.addEventListener('input', function() {
                    const volume = parseInt(this.value);
                    userData.musicVolume = volume;
                    backgroundMusic.volume = volume / 100;
                    musicVolumeValue.textContent = `${volume}%`;
                    saveUserData();
                });
                
                // Sound effects volume slider
                sfxVolumeSlider.addEventListener('input', function() {
                    const volume = parseInt(this.value);
                    userData.sfxVolume = volume;
                    jumpSound.volume = volume / 100;
                    scoreSound.volume = volume / 100;
                    gameOverSound.volume = volume / 100;
                    achievementSound.volume = volume / 100;
                    sfxVolumeValue.textContent = `${volume}%`;
                    saveUserData();
                });
            }
            
            // Navigation functionality
            const navLinks = document.querySelectorAll('[data-target]');
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    const sections = document.querySelectorAll('section');
                    
                    sections.forEach(section => {
                        section.classList.add('inactive-section');
                        section.classList.remove('active-section');
                    });
                    
                    document.getElementById(targetId).classList.remove('inactive-section');
                    document.getElementById(targetId).classList.add('active-section');
                    
                    // Handle music when switching sections
                    if (userData.musicEnabled && targetId === 'game-section' && !gameData.isPaused) {
                        backgroundMusic.play().catch(e => console.log("Music play prevented:", e));
                    } else {
                        backgroundMusic.pause();
                    }
                });
            });
            
            // Blog functionality
            const blogCards = document.querySelectorAll('.blog-card');
            const blogList = document.getElementById('blog-list');
            const blogContent = document.getElementById('blog-content');
            const backButton = document.getElementById('back-to-blogs');
            
            blogCards.forEach(card => {
                card.addEventListener('click', function() {
                    const blogId = this.getAttribute('data-blog-id');
                    const allContents = document.querySelectorAll('.blog-full-content');
                    
                    allContents.forEach(content => content.classList.add('hidden'));
                    document.getElementById(`${blogId}-content`).classList.remove('hidden');
                    
                    blogList.classList.add('hidden');
                    blogContent.classList.remove('hidden');
                });
            });
            
            backButton.addEventListener('click', function() {
                blogContent.classList.add('hidden');
                blogList.classList.remove('hidden');
            });
            
            // FAQ functionality
            const faqItems = document.querySelectorAll('.faq-item');
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                question.addEventListener('click', function() {
                    item.classList.toggle('active');
                    const icon = question.querySelector('i');
                    
                    if (item.classList.contains('active')) {
                        icon.classList.remove('fa-chevron-down');
                        icon.classList.add('fa-chevron-up');
                    } else {
                        icon.classList.remove('fa-chevron-up');
                        icon.classList.add('fa-chevron-down');
                    }
                });
            });
            
            // Reset scores button
            document.getElementById('reset-scores').addEventListener('click', function() {
                if (confirm('Are you sure you want to reset all your scores? This cannot be undone.')) {
                    userData.scores = [];
                    userData.highScore = 0;
                    userData.weeklyBest = 0;
                    userData.achievements = [];
                    
                    saveUserData();
                    updatePersonalBest();
                    updateHighscoresList();
                    updateAchievements();
                    updateWeeklyChallenge();
                    
                    showToast('All scores have been reset');
                }
            });
            
            // Social sharing functionality
            document.getElementById('share-facebook').addEventListener('click', function() {
                const url = encodeURIComponent(window.location.href);
                const text = encodeURIComponent(`I scored ${userData.highScore} points in Sky Glider! Can you beat my score?`);
                window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`, '_blank');
            });
            
            document.getElementById('share-twitter').addEventListener('click', function() {
                const url = encodeURIComponent(window.location.href);
                const text = encodeURIComponent(`I scored ${userData.highScore} points in Sky Glider! Can you beat my score? #SkyGlider`);
                window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank');
            });
            
            document.getElementById('share-whatsapp').addEventListener('click', function() {
                const url = encodeURIComponent(window.location.href);
                const text = encodeURIComponent(`I scored ${userData.highScore} points in Sky Glider! Can you beat my score?`);
                window.open(`https://api.whatsapp.com/send?text=${text}%20${url}`, '_blank');
            });
            
            document.getElementById('share-copy').addEventListener('click', function() {
                const shareText = `I scored ${userData.highScore} points in Sky Glider! Can you beat my score? ${window.location.href}`;
                
                // Use the Clipboard API if available
                if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText(shareText).then(() => {
                        showToast('Link copied to clipboard!');
                    }).catch(() => {
                        showToast('Failed to copy link');
                    });
                } else {
                    // Fallback for older browsers
                    const textarea = document.createElement('textarea');
                    textarea.value = shareText;
                    textarea.style.position = 'fixed';
                    document.body.appendChild(textarea);
                    textarea.select();
                    
                    try {
                        document.execCommand('copy');
                        showToast('Link copied to clipboard!');
                    } catch (err) {
                        showToast('Failed to copy link');
                    } finally {
                        document.body.removeChild(textarea);
                    }
                }
            });
            
            // Share score button
            document.getElementById('share-score-button').addEventListener('click', function() {
                const finalScore = parseInt(document.getElementById('final-score').textContent);
                
                if (navigator.share) {
                    navigator.share({
                        title: 'Sky Glider Score',
                        text: `I just scored ${finalScore} points in Sky Glider! Can you beat my score?`,
                        url: window.location.href
                    }).then(() => {
                        console.log('Successfully shared');
                    }).catch((error) => {
                        console.log('Error sharing:', error);
                    });
                } else {
                    // Create an in-page sharing UI
                    const shareButtons = document.createElement('div');
                    shareButtons.className = 'flex justify-center space-x-4 mt-4';
                    shareButtons.innerHTML = `
                        <button id="game-share-fb" class="game-btn"><i class="fab fa-facebook-f"></i></button>
                        <button id="game-share-tw" class="game-btn"><i class="fab fa-twitter"></i></button>
                        <button id="game-share-wa" class="game-btn"><i class="fab fa-whatsapp"></i></button>
                        <button id="game-share-cp" class="game-btn"><i class="fas fa-link"></i></button>
                    `;
                    
                    // Insert after share button
                    this.parentNode.insertBefore(shareButtons, this.nextSibling);
                    
                    // Add event listeners
                    document.getElementById('game-share-fb').addEventListener('click', () => {
                        const url = encodeURIComponent(window.location.href);
                        const text = encodeURIComponent(`I scored ${finalScore} points in Sky Glider! Can you beat my score?`);
                        window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`, '_blank');
                    });
                    
                    document.getElementById('game-share-tw').addEventListener('click', () => {
                        const url = encodeURIComponent(window.location.href);
                        const text = encodeURIComponent(`I scored ${finalScore} points in Sky Glider! Can you beat my score? #SkyGlider`);
                        window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank');
                    });
                    
                    document.getElementById('game-share-wa').addEventListener('click', () => {
                        const url = encodeURIComponent(window.location.href);
                        const text = encodeURIComponent(`I scored ${finalScore} points in Sky Glider! Can you beat my score?`);
                        window.open(`https://api.whatsapp.com/send?text=${text}%20${url}`, '_blank');
                    });
                    
                    document.getElementById('game-share-cp').addEventListener('click', () => {
                        const shareText = `I scored ${finalScore} points in Sky Glider! Can you beat my score? ${window.location.href}`;
                        navigator.clipboard.writeText(shareText).then(() => {
                            showToast('Link copied to clipboard!');
                        }).catch((err) => {
                            console.error('Could not copy text: ', err);
                        });
                    });
                    
                    // Hide the original button
                    this.style.display = 'none';
                }
            });
            
            // Sky Glider Game
            const canvas = document.getElementById('game-canvas');
            const ctx = canvas.getContext('2d');
            const startMessage = document.getElementById('start-message');
            const gameOverScreen = document.getElementById('game-over');
            const pauseOverlay = document.getElementById('pause-overlay');
            const startButton = document.getElementById('start-button');
            const restartButton = document.getElementById('restart-button');
            const pauseButton = document.getElementById('pause-button');
            const resumeButton = document.getElementById('resume-button');
            const restartFromPauseButton = document.getElementById('restart-from-pause-button');
            const restartGameButton = document.getElementById('restart-game-button');
            const playerNameInput = document.getElementById('player-name-input');
            const saveScoreButton = document.getElementById('save-score-button');
            const finalScoreElement = document.getElementById('final-score');
            const currentScoreElement = document.getElementById('current-score');
            const highScoreMessage = document.getElementById('high-score-message');
            
            // Game variables
            let glider = {
                x: 50,
                y: canvas.height / 2,
                width: 34,
                height: 24,
                gravity: 0.5,
                velocity: 0,
                lift: -10
            };
            
            let obstacles = [];
            let score = 0;
            let gameStarted = false;
            let gameOver = false;
            const obstacleWidth = 52;
            const gapHeight = 180;
            const obstacleColor = '#3498db';
            const skyColor = '#70C5CE';
            const groundColor = '#DED895';
            const groundHeight = 112;
            
            // Glider colors
            const gliderColors = {
                body: '#f39c12',
                wing: '#e74c3c',
                tail: '#FFFFFF',
                cockpit: '#34495e'
            };
            
            // Game initialization
            function init() {
                glider.y = canvas.height / 2;
                glider.velocity = 0;
                obstacles = [];
                score = 0;
                gameOver = false;
                gameData.isPaused = false;
                
                // Hide game over and pause screens
                gameOverScreen.classList.add('hidden');
                pauseOverlay.classList.add('hidden');
                
                // Update current score
                currentScoreElement.textContent = '0';
                
                // Add first obstacle
                addObstacle();
                
                // Start background music if enabled
                if (userData.musicEnabled) {
                    backgroundMusic.currentTime = 0;
                    backgroundMusic.play().catch(e => console.log("Music play prevented:", e));
                }
            }
            
            // Add new obstacle
            function addObstacle() {
                const minHeight = 50;
                const maxHeight = canvas.height - groundHeight - gapHeight - minHeight;
                const height = Math.floor(Math.random() * (maxHeight - minHeight + 1)) + minHeight;
                
                obstacles.push({
                    x: canvas.width,
                    topHeight: height,
                    bottomY: height + gapHeight,
                    counted: false
                });
            }
            
            // Draw glider
            function drawGlider() {
                ctx.save();
                ctx.translate(glider.x + glider.width / 2, glider.y + glider.height / 2);
                
                // Rotate glider based on velocity
                const rotation = Math.min(Math.max(glider.velocity / 10, -0.5), 0.5);
                ctx.rotate(rotation);
                
                // Draw glider body
                ctx.fillStyle = gliderColors.body;
                ctx.beginPath();
                ctx.ellipse(0, 0, glider.width / 2, glider.height / 3, 0, 0, Math.PI * 2);
                ctx.fill();
                
                // Draw glider wing
                ctx.fillStyle = gliderColors.wing;
                ctx.beginPath();
                ctx.moveTo(-10, -2);
                ctx.lineTo(5, -2);
                ctx.lineTo(0, -15);
                ctx.closePath();
                ctx.fill();
                
                // Draw glider tail
                ctx.fillStyle = gliderColors.tail;
                ctx.beginPath();
                ctx.moveTo(-15, -1);
                ctx.lineTo(-10, -1);
                ctx.lineTo(-15, -8);
                ctx.closePath();
                ctx.fill();
                
                // Draw glider cockpit
                ctx.fillStyle = gliderColors.cockpit;
                ctx.beginPath();
                ctx.arc(8, 0, 3, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.restore();
            }
            
            // Draw obstacles
            function drawObstacles() {
                obstacles.forEach(obstacle => {
                    // Top obstacle
                    ctx.fillStyle = obstacleColor;
                    ctx.fillRect(obstacle.x, 0, obstacleWidth, obstacle.topHeight);
                    
                    // Bottom obstacle
                    ctx.fillRect(obstacle.x, obstacle.bottomY, obstacleWidth, canvas.height - obstacle.bottomY - groundHeight);
                    
                    // Obstacle caps (top)
                    ctx.fillStyle = '#2980b9';
                    ctx.fillRect(obstacle.x - 2, obstacle.topHeight - 10, obstacleWidth + 4, 10);
                    
                    // Obstacle caps (bottom)
                    ctx.fillRect(obstacle.x - 2, obstacle.bottomY, obstacleWidth + 4, 10);
                });
            }
            
            // Draw ground
            function drawGround() {
                ctx.fillStyle = groundColor;
                ctx.fillRect(0, canvas.height - groundHeight, canvas.width, groundHeight);
                
                // Ground details
                ctx.fillStyle = '#C0B671';
                for (let i = 0; i < canvas.width; i += 20) {
                    ctx.fillRect(i, canvas.height - groundHeight + 20, 10, 3);
                }
            }
            
            // Draw sky
            function drawSky() {
                // Create sky gradient
                const skyGradient = ctx.createLinearGradient(0, 0, 0, canvas.height - groundHeight);
                skyGradient.addColorStop(0, '#1a75ff');
                skyGradient.addColorStop(1, '#70C5CE');
                
                ctx.fillStyle = skyGradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height - groundHeight);
                
                // Clouds
                ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                ctx.beginPath();
                ctx.arc(80, 80, 20, 0, Math.PI * 2);
                ctx.arc(100, 70, 25, 0, Math.PI * 2);
                ctx.arc(120, 85, 15, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.beginPath();
                ctx.arc(250, 120, 15, 0, Math.PI * 2);
                ctx.arc(270, 110, 20, 0, Math.PI * 2);
                ctx.arc(290, 125, 10, 0, Math.PI * 2);
                ctx.fill();
                
                // Distant mountains
                ctx.fillStyle = '#2c3e50';
                ctx.beginPath();
                ctx.moveTo(0, canvas.height - groundHeight - 40);
                ctx.lineTo(60, canvas.height - groundHeight - 120);
                ctx.lineTo(150, canvas.height - groundHeight - 50);
                ctx.lineTo(220, canvas.height - groundHeight - 100);
                ctx.lineTo(320, canvas.height - groundHeight - 70);
                ctx.lineTo(320, canvas.height - groundHeight);
                ctx.lineTo(0, canvas.height - groundHeight);
                ctx.closePath();
                ctx.fill();
            }
            
            // Draw score
            function drawScore() {
                // Current score is always displayed in the HUD
                currentScoreElement.textContent = score;
            }
            
            // Update game state
            function update() {
                if (!gameStarted || gameOver || gameData.isPaused) return;
                
                // Update glider position
                glider.velocity += glider.gravity;
                glider.y += glider.velocity;
                
                // Check for collisions with ground
                if (glider.y + glider.height > canvas.height - groundHeight) {
                    glider.y = canvas.height - groundHeight - glider.height;
                    endGame();
                }
                
                // Check for collision with ceiling
                if (glider.y < 0) {
                    glider.y = 0;
                    glider.velocity = 0;
                }
                
                // Update obstacles
                obstacles.forEach((obstacle, index) => {
                    obstacle.x -= 2;
                    
                    // Check for collisions with obstacles
                    if (
                        glider.x + glider.width > obstacle.x &&
                        glider.x < obstacle.x + obstacleWidth &&
                        (glider.y < obstacle.topHeight || glider.y + glider.height > obstacle.bottomY)
                    ) {
                        endGame();
                    }
                    
                    // Check for score
                    if (!obstacle.counted && obstacle.x + obstacleWidth < glider.x) {
                        score++;
                        obstacle.counted = true;
                        
                        // Update score display
                        drawScore();
                        
                        // Play score sound
                        if (userData.soundEnabled && Date.now() - gameData.lastScoreTime > 200) {
                            scoreSound.currentTime = 0;
                            scoreSound.play().catch(e => console.log("Score sound play prevented:", e));
                            gameData.lastScoreTime = Date.now();
                        }
                    }
                    
                    // Remove obstacles that are off screen
                    if (obstacle.x + obstacleWidth < 0) {
                        obstacles.splice(index, 1);
                    }
                });
                
                // Add new obstacle when needed
                if (obstacles.length === 0 || obstacles[obstacles.length - 1].x < canvas.width - 200) {
                    addObstacle();
                }
            }
            
            // End game
            function endGame() {
                gameOver = true;
                finalScoreElement.textContent = score;
                gameOverScreen.classList.remove('hidden');
                
                // Play game over sound
                if (userData.soundEnabled) {
                    backgroundMusic.pause();
                    gameOverSound.currentTime = 0;
                    gameOverSound.play().catch(e => console.log("Game over sound play prevented:", e));
                }
                
                // Check if it's a new high score
                if (score > userData.highScore) {
                    userData.highScore = score;
                    highScoreMessage.classList.remove('hidden');
                    highScoreMessage.classList.add('pulse-animation');
                    saveUserData();
                    updatePersonalBest();
                } else {
                    highScoreMessage.classList.add('hidden');
                }
                
                // Check if it's a new weekly best
                if (score > userData.weeklyBest) {
                    userData.weeklyBest = score;
                    saveUserData();
                    updateWeeklyChallenge();
                }
                
                // Check for achievements
                checkAchievements(score);
                
                // Focus the player name input for convenience
                setTimeout(() => {
                    playerNameInput.focus();
                }, 500);
            }
            
            // Draw game
            function draw() {
                // Clear canvas
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Draw background
                drawSky();
                drawObstacles();
                drawGround();
                drawGlider();
                
                if (gameStarted) {
                    drawScore();
                }
            }
            
            // Game loop
            function gameLoop() {
                update();
                draw();
                gameData.animationFrame = requestAnimationFrame(gameLoop);
            }
            
            // Pause game
            function pauseGame() {
                if (gameStarted && !gameOver) {
                    gameData.isPaused = true;
                    pauseOverlay.classList.remove('hidden');
                    backgroundMusic.pause();
                }
            }
            
            // Resume game
            function resumeGame() {
                if (gameData.isPaused) {
                    gameData.isPaused = false;
                    pauseOverlay.classList.add('hidden');
                    
                    if (userData.musicEnabled) {
                        backgroundMusic.play().catch(e => console.log("Music play prevented:", e));
                    }
                }
            }
            
            // Event listeners
            function lift() {
                if (gameOver || gameData.isPaused) return;
                
                if (!gameStarted) {
                    gameStarted = true;
                    startMessage.classList.add('hidden');
                    init();
                } else {
                    glider.velocity = glider.lift;
                    
                    // Play jump sound
                    if (userData.soundEnabled) {
                        jumpSound.currentTime = 0;
                        jumpSound.play().catch(e => console.log("Jump sound play prevented:", e));
                    }
                }
            }
            
            // Click/tap on canvas
            canvas.addEventListener('click', function(e) {
                e.preventDefault();
                lift();
            });
            
            // Spacebar to jump
            document.addEventListener('keydown', function(e) {
                if (e.code === 'Space') {
                    e.preventDefault();
                    lift();
                } else if (e.code === 'Escape') {
                    // Toggle pause with Escape key
                    if (gameData.isPaused) {
                        resumeGame();
                    } else {
                        pauseGame();
                    }
                }
            });
            
            // Start button
            startButton.addEventListener('click', function() {
                gameStarted = true;
                startMessage.classList.add('hidden');
                init();
            });
            
            // Restart button
            restartButton.addEventListener('click', function() {
                gameOverScreen.classList.add('hidden');
                init();
                gameStarted = true;
            });
            
            // Pause button
            pauseButton.addEventListener('click', function() {
                pauseGame();
            });
            
            // Resume button
            resumeButton.addEventListener('click', function() {
                resumeGame();
            });
            
            // Restart button (from pause)
            restartFromPauseButton.addEventListener('click', function() {
                pauseOverlay.classList.add('hidden');
                init();
            });
            
            // Restart game button (in-game HUD)
            restartGameButton.addEventListener('click', function() {
                if (gameStarted && !gameOver) {
                    // If game is running, confirm restart
                    if (confirm('Are you sure you want to restart the game?')) {
                        init();
                    }
                } else {
                    // If game is over or not started, just restart
                    init();
                    gameStarted = true;
                    startMessage.classList.add('hidden');
                }
            });
            
            // Save score button
            saveScoreButton.addEventListener('click', function() {
                const playerName = playerNameInput.value.trim() || 'Anonymous';
                
                // Add score to the list
                userData.scores.push({
                    name: playerName,
                    score: score,
                    date: new Date().toISOString()
                });
                
                // Remember player name for next time
                userData.playerName = playerName;
                playerNameInput.value = '';
                
                // Save data and update display
                saveUserData();
                updateHighscoresList();
                
                // Show confirmation
                showToast('Score saved successfully!');
                
                // Hide the form
                document.getElementById('player-name-form').style.display = 'none';
            });
            
            // Set player name input's value to saved name if any
            playerNameInput.value = userData.playerName || '';
            
            // Start game loop
            gameData.animationFrame = requestAnimationFrame(gameLoop);
            
            // Initialize the game
            loadUserData();
            initSounds();
        });
    </script>
</body>
</html>
